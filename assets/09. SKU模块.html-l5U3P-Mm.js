import{_ as o}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as l,o as p,c,a as n,b as s,d as t,e}from"./app-YilgCgZO.js";const i={},r=n("h1",{id:"小兔鲜儿-sku-模块",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#小兔鲜儿-sku-模块","aria-hidden":"true"},"#"),s(" 小兔鲜儿 - SKU 模块")],-1),u={href:"https://ext.dcloud.net.cn/",target:"_blank",rel:"noopener noreferrer"},k=n("code",null,"SKU",-1),d=n("strong",null,"商品详情页",-1),m=n("h2",{id:"存货单位-sku",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#存货单位-sku","aria-hidden":"true"},"#"),s(" 存货单位（SKU）")],-1),v=n("p",null,[n("strong",null,"SKU 概念")],-1),b=n("p",null,"存货单位（Stock Keeping Unit），库存管理的最小可用单元，通常称为“单品”。",-1),g=n("code",null,"SKU",-1),h={href:"https://juejin.cn/post/7002746459456176158",target:"_blank",rel:"noopener noreferrer"},y=n("strong",null,"用户交互体验",-1),_=n("h2",{id:"插件市场",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#插件市场","aria-hidden":"true"},"#"),s(" 插件市场")],-1),S={href:"https://ext.dcloud.net.cn/",target:"_blank",rel:"noopener noreferrer"},x=n("p",null,[n("code",null,"SKU"),s(" 属于电商常见业务，插件市场有现成的 "),n("code",null,"SKU"),s(" 插件，我们下载并在项目中使用。")],-1),f=n("figure",null,[n("img",{src:"https://gitlab.com/apzs/image/-/raw/master/image/sku_picture_1.png",alt:"插件市场",tabindex:"0",loading:"lazy"}),n("figcaption",null,"插件市场")],-1),w=n("h3",{id:"下载-sku-插件",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#下载-sku-插件","aria-hidden":"true"},"#"),s(" 下载 SKU 插件")],-1),K={href:"https://ext.dcloud.net.cn/plugin?id=2848",target:"_blank",rel:"noopener noreferrer"},U=e('<p><strong>体验地址</strong></p><figure><img src="https://gitlab.com/apzs/image/-/raw/master/image/sku_picture_2.png" alt="插件市场" tabindex="0" loading="lazy"><figcaption>插件市场</figcaption></figure><div class="hint-container tip"><p class="hint-container-title">常见问题</p><p>Q：如何评估第三方插件的质量？</p><p>A：查看插件的<strong>评分、评价、下载量、更新频率以及文档完整性</strong>，以确保插件具有良好的社区口碑、兼容性、性能和维护状况。</p></div><h3 id="使用-sku-插件" tabindex="-1"><a class="header-anchor" href="#使用-sku-插件" aria-hidden="true">#</a> 使用 SKU 插件</h3><p><strong>组件安装到自己项目</strong></p><ol><li>复制 <code>vk-data-goods-sku-popup</code> 和 <code>vk-data-input-number-box</code> 到项目的根 <code>components</code> 目录下。</li><li>复制例子代码并运行体验。</li></ol><p><strong>插件文档(部分)</strong></p><table><thead><tr><th style="text-align:center;">Props 参数</th><th style="text-align:center;">说明</th><th style="text-align:center;">类型</th><th style="text-align:center;">默认值</th><th style="text-align:center;">可选值</th></tr></thead><tbody><tr><td style="text-align:center;">v-model</td><td style="text-align:center;">双向绑定，true 为打开组件，false 为关闭组件</td><td style="text-align:center;">Boolean</td><td style="text-align:center;">false</td><td style="text-align:center;">true、false</td></tr><tr><td style="text-align:center;">mode</td><td style="text-align:center;">模式 1:都显示 2:只显示购物车 3:只显示立即购买</td><td style="text-align:center;">Number</td><td style="text-align:center;">1</td><td style="text-align:center;">1、2、3</td></tr><tr><td style="text-align:center;">localdata</td><td style="text-align:center;">商品信息本地数据源</td><td style="text-align:center;">Object</td><td style="text-align:center;">-</td><td style="text-align:center;">-</td></tr></tbody></table><table><thead><tr><th style="text-align:center;">Event 事件名</th><th style="text-align:center;">说明</th><th style="text-align:center;">回调参数</th></tr></thead><tbody><tr><td style="text-align:center;">add-cart</td><td style="text-align:center;">点击添加到购物车时（需选择完 SKU 才会触发）</td><td style="text-align:center;">selectShop：当前选择的 sku 数据</td></tr><tr><td style="text-align:center;">buy-now</td><td style="text-align:center;">点击立即购买时（需选择完 SKU 才会触发）</td><td style="text-align:center;">selectShop：当前选择的 sku 数据</td></tr><tr><td style="text-align:center;">open</td><td style="text-align:center;">打开组件时</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">close</td><td style="text-align:center;">关闭组件时</td><td style="text-align:center;"></td></tr></tbody></table><div class="hint-container tip"><p class="hint-container-title">常见问题</p><p>Q：为什么插件使用时无需导入？</p><p>A：<code>pages.json</code> 的 <code>easycom</code> 配置中，默认自动扫描 <code>xxx/xxx.vue</code> 格式的组件，<strong>实现自动导入</strong>。</p><p>Q：为什么组件代码 Git 提交时报错？</p><p>A：插件未采用 <code>eslint</code> 校验代码，请在插件源文件中添加 <code>/* eslint-disable */</code>，禁用 <code>eslint</code>。</p></div><p>在 <code>vk-data-goods-sku-popup.vue</code> 和 <code>vk-data-input-number-box.vue</code> 组件禁用 <code>eslint</code>。</p>',11),P=n("div",{class:"language-vue line-numbers-mode","data-ext":"vue"},[n("pre",{vue:"",class:"language-vue"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("script")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[s(`
`),n("span",{class:"token comment"},"/* eslint-disable */"),s(`
`),n("span",{class:"token comment"},"// 省略组件源代码"),s(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("script")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),q=n("h2",{id:"插件类型问题",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#插件类型问题","aria-hidden":"true"},"#"),s(" 插件类型问题")],-1),B={href:"https://ext.dcloud.net.cn/plugin?id=2848",target:"_blank",rel:"noopener noreferrer"},C=e(`<h3 id="类型声明文件" tabindex="-1"><a class="header-anchor" href="#类型声明文件" aria-hidden="true">#</a> 类型声明文件</h3><p><code>vk-data-goods-sku-popup.d.ts</code></p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@uni-helper/uni-app-types&#39;</span>

<span class="token comment">/** SKU 弹出层 */</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">SkuPopup</span> <span class="token operator">=</span> Component<span class="token operator">&lt;</span>SkuPopupProps<span class="token operator">&gt;</span>

<span class="token comment">/** SKU 弹出层实例 */</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">SkuPopupInstanceType</span> <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span>SkuPopup<span class="token operator">&gt;</span>

<span class="token comment">/** SKU 弹出层属性 */</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">SkuPopupProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">/** 双向绑定，true 为打开组件，false 为关闭组件 */</span>
  modelValue<span class="token operator">:</span> <span class="token builtin">boolean</span>
  <span class="token comment">/** 商品信息本地数据源 */</span>
  localdata<span class="token operator">:</span> SkuPopupLocaldata
  <span class="token comment">/** 按钮模式 1:都显示 2:只显示购物车 3:只显示立即购买 */</span>
  mode<span class="token operator">?</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">3</span>
  <span class="token comment">/** 该商品已抢完时的按钮文字 */</span>
  noStockText<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 库存文字 */</span>
  stockText<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 点击遮罩是否关闭组件 */</span>
  maskCloseAble<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  <span class="token comment">/** 顶部圆角值 */</span>
  borderRadius<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
  <span class="token comment">/** 最小购买数量 */</span>
  minBuyNum<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token comment">/** 最大购买数量 */</span>
  maxBuyNum<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token comment">/** 每次点击后的数量 */</span>
  stepBuyNum<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token comment">/** 是否只能输入 step 的倍数 */</span>
  stepStrictly<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  <span class="token comment">/** 是否隐藏库存的显示 */</span>
  hideStock<span class="token operator">?</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token comment">/** 主题风格 */</span>
  theme<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&#39;default&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;red-black&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;black-white&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;coffee&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;green&#39;</span>
  <span class="token comment">/** 默认金额会除以100（即100=1元），若设置为0，则不会除以100（即1=1元） */</span>
  amountType<span class="token operator">?</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">0</span>
  <span class="token comment">/** 自定义获取商品信息的函数（已知支付宝不支持，支付宝请改用localdata属性） */</span>
  customAction<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
  <span class="token comment">/** 是否显示右上角关闭按钮 */</span>
  showClose<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  <span class="token comment">/** 关闭按钮的图片地址 */</span>
  closeImage<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 价格的字体颜色 */</span>
  priceColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 立即购买 - 按钮的文字 */</span>
  buyNowText<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 立即购买 - 按钮的字体颜色 */</span>
  buyNowColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 立即购买 - 按钮的背景颜色 */</span>
  buyNowBackgroundColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 加入购物车 - 按钮的文字 */</span>
  addCartText<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 加入购物车 - 按钮的字体颜色 */</span>
  addCartColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 加入购物车 - 按钮的背景颜色 */</span>
  addCartBackgroundColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 商品缩略图背景颜色 */</span>
  goodsThumbBackgroundColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 样式 - 不可点击时,按钮的样式 */</span>
  disableStyle<span class="token operator">?</span><span class="token operator">:</span> object
  <span class="token comment">/** 样式 - 按钮点击时的样式 */</span>
  activedStyle<span class="token operator">?</span><span class="token operator">:</span> object
  <span class="token comment">/** 样式 - 按钮常态的样式 */</span>
  btnStyle<span class="token operator">?</span><span class="token operator">:</span> object
  <span class="token comment">/** 字段名 - 商品表id的字段名 */</span>
  goodsIdName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 字段名 - sku表id的字段名 */</span>
  skuIdName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 字段名 - 商品对应的sku列表的字段名 */</span>
  skuListName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 字段名 - 商品规格名称的字段名 */</span>
  specListName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 字段名 - sku库存的字段名 */</span>
  stockName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 字段名 - sku组合路径的字段名 */</span>
  skuArrName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 字段名 - 商品缩略图字段名(未选择sku时) */</span>
  goodsThumbName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 被选中的值 */</span>
  selectArr<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>

  <span class="token comment">/** 打开弹出层 */</span>
  <span class="token function-variable function">onOpen</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
  <span class="token comment">/** 关闭弹出层 */</span>
  <span class="token function-variable function">onClose</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
  <span class="token comment">/** 点击加入购物车时（需选择完SKU才会触发）*/</span>
  <span class="token function-variable function">onAddCart</span><span class="token operator">:</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> SkuPopupEvent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
  <span class="token comment">/** 点击立即购买时（需选择完SKU才会触发）*/</span>
  <span class="token function-variable function">onBuyNow</span><span class="token operator">:</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> SkuPopupEvent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token comment">/**  商品信息本地数据源 */</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">SkuPopupLocaldata</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">/** 商品 ID */</span>
  _id<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 商品名称 */</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 商品图片 */</span>
  goods_thumb<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 商品规格列表 */</span>
  spec_list<span class="token operator">:</span> SkuPopupSpecItem<span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token comment">/** 商品SKU列表 */</span>
  sku_list<span class="token operator">:</span> SkuPopupSkuItem<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">/** 商品规格名称的集合 */</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">SkuPopupSpecItem</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">/** 规格名称 */</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 规格集合 */</span>
  list<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">/** 商品SKU列表 */</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">SkuPopupSkuItem</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">/** SKU ID */</span>
  _id<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/**  商品 ID */</span>
  goods_id<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 商品名称 */</span>
  goods_name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** 商品图片 */</span>
  image<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token comment">/** SKU 价格 * 100, 注意：需要乘以 100 */</span>
  price<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token comment">/** SKU 规格组成, 注意：需要与 spec_list 数组顺序对应 */</span>
  sku_name_arr<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token comment">/** SKU 库存 */</span>
  stock<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token comment">/** 当前选择的sku数据 */</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">SkuPopupEvent</span> <span class="token operator">=</span> SkuPopupSkuItem <span class="token operator">&amp;</span> <span class="token punctuation">{</span>
  <span class="token comment">/** 商品购买数量 */</span>
  buy_num<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token comment">/** 全局组件类型声明 */</span>
<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&#39;@vue/runtime-core&#39;</span> <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">GlobalComponents</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;vk-data-goods-sku-popup&#39;</span><span class="token operator">:</span> SkuPopup
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="核心业务" tabindex="-1"><a class="header-anchor" href="#核心业务" aria-hidden="true">#</a> 核心业务</h2><h3 id="渲染商品规格" tabindex="-1"><a class="header-anchor" href="#渲染商品规格" aria-hidden="true">#</a> 渲染商品规格</h3><p>使用以下两个属性：</p><ul><li><code>localdata</code> 绑定商品 <code>SKU</code> 数据来源</li><li><code>v-model</code> 双向绑定，显示/隐藏组件</li></ul><p><strong>注意</strong>：后端返回的数据格式和插件所需的格式不一致，我们需要按插件要求进行处理。</p>`,8),N=n("div",{class:"language-vue line-numbers-mode","data-ext":"vue"},[n("pre",{vue:"",class:"language-vue"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("script")]),s(),n("span",{class:"token attr-name"},"setup"),s(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[s(`
`),n("span",{class:"token keyword"},"import"),s(" type "),n("span",{class:"token punctuation"},"{"),s(" SkuPopupLocaldata "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'@/components/vk-data-goods-sku-popup/vk-data-goods-sku-popup'"),s(`

`),n("span",{class:"token comment"},"// 获取商品详情信息"),s(`
`),n("span",{class:"token keyword"},"const"),s(" goods "),n("span",{class:"token operator"},"="),s(" ref"),n("span",{class:"token operator"},"<"),s("GoodsResult"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token function-variable function"},"getGoodsByIdData"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" res "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(),n("span",{class:"token function"},"getGoodsByIdAPI"),n("span",{class:"token punctuation"},"("),s("query"),n("span",{class:"token punctuation"},"."),s("id"),n("span",{class:"token punctuation"},")"),s(`
  goods`),n("span",{class:"token punctuation"},"."),s("value "),n("span",{class:"token operator"},"="),s(" res"),n("span",{class:"token punctuation"},"."),s(`result
  `),n("span",{class:"token comment"},"// SKU组件所需格式"),s(`
  localdata`),n("span",{class:"token punctuation"},"."),s("value "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"_id"),n("span",{class:"token operator"},":"),s(" res"),n("span",{class:"token punctuation"},"."),s("result"),n("span",{class:"token punctuation"},"."),s("id"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),s(" res"),n("span",{class:"token punctuation"},"."),s("result"),n("span",{class:"token punctuation"},"."),s("name"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"goods_thumb"),n("span",{class:"token operator"},":"),s(" res"),n("span",{class:"token punctuation"},"."),s("result"),n("span",{class:"token punctuation"},"."),s("mainPictures"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"spec_list"),n("span",{class:"token operator"},":"),s(" res"),n("span",{class:"token punctuation"},"."),s("result"),n("span",{class:"token punctuation"},"."),s("specs"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"v"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),s(" v"),n("span",{class:"token punctuation"},"."),s("name"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token literal-property property"},"list"),n("span",{class:"token operator"},":"),s(" v"),n("span",{class:"token punctuation"},"."),s("values "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"sku_list"),n("span",{class:"token operator"},":"),s(" res"),n("span",{class:"token punctuation"},"."),s("result"),n("span",{class:"token punctuation"},"."),s("skus"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"v"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token literal-property property"},"_id"),n("span",{class:"token operator"},":"),s(" v"),n("span",{class:"token punctuation"},"."),s("id"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token literal-property property"},"goods_id"),n("span",{class:"token operator"},":"),s(" res"),n("span",{class:"token punctuation"},"."),s("result"),n("span",{class:"token punctuation"},"."),s("id"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token literal-property property"},"goods_name"),n("span",{class:"token operator"},":"),s(" res"),n("span",{class:"token punctuation"},"."),s("result"),n("span",{class:"token punctuation"},"."),s("name"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token literal-property property"},"image"),n("span",{class:"token operator"},":"),s(" v"),n("span",{class:"token punctuation"},"."),s("picture"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token literal-property property"},"price"),n("span",{class:"token operator"},":"),s(" v"),n("span",{class:"token punctuation"},"."),s("price "),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token number"},"100"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"// 注意：需要乘以 100"),s(`
      `),n("span",{class:"token literal-property property"},"stock"),n("span",{class:"token operator"},":"),s(" v"),n("span",{class:"token punctuation"},"."),s("inventory"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token literal-property property"},"sku_name_arr"),n("span",{class:"token operator"},":"),s(" v"),n("span",{class:"token punctuation"},"."),s("specs"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"vv"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(" vv"),n("span",{class:"token punctuation"},"."),s("valueName"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token comment"},"// 是否显示SKU组件"),s(`
`),n("span",{class:"token keyword"},"const"),s(" isShowSku "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token comment"},"// 商品信息"),s(`
`),n("span",{class:"token keyword"},"const"),s(" localdata "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"as"),s(" SkuPopupLocaldata"),n("span",{class:"token punctuation"},")"),s(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("script")]),n("span",{class:"token punctuation"},">")]),s(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token comment"},"<!-- SKU弹窗组件 -->"),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("vk-data-goods-sku-popup")]),s(),n("span",{class:"token attr-name"},"v-model"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("isShowSku"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},":localdata"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("localdata"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
  `),n("span",{class:"token comment"},"<!-- 弹窗测试 -->"),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("button")]),s(),n("span",{class:"token attr-name"},"@tap"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("isShowSku = true"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s("打开 SKU 弹窗"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("button")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("div",{class:"highlight-line"}," "),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),I=n("h3",{id:"打开弹窗交互",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#打开弹窗交互","aria-hidden":"true"},"#"),s(" 打开弹窗交互")],-1),A=n("p",null,"SKU 弹窗的按钮有三种形式。",-1),T=n("div",{class:"language-vue line-numbers-mode","data-ext":"vue"},[n("pre",{vue:"",class:"language-vue"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("script")]),s(),n("span",{class:"token attr-name"},"setup"),s(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[s(`
`),n("span",{class:"token comment"},"// 按钮模式"),s(`
`),n("span",{class:"token keyword"},"enum"),s(" SkuMode "),n("span",{class:"token punctuation"},"{"),s(`
  Both `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
  Cart `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},","),s(`
  Buy `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"3"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token keyword"},"const"),s(" mode "),n("span",{class:"token operator"},"="),s(" ref"),n("span",{class:"token operator"},"<"),s("SkuMode"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},"("),s("SkuMode"),n("span",{class:"token punctuation"},"."),s("Cart"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token comment"},"// 打开SKU弹窗修改按钮模式"),s(`
`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token function-variable function"},"openSkuPopup"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"val"),n("span",{class:"token operator"},":"),s(" SkuMode")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token comment"},"// 显示SKU弹窗"),s(`
  isShowSku`),n("span",{class:"token punctuation"},"."),s("value "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"true"),s(`
  `),n("span",{class:"token comment"},"// 修改按钮模式"),s(`
  mode`),n("span",{class:"token punctuation"},"."),s("value "),n("span",{class:"token operator"},"="),s(` val
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("script")]),n("span",{class:"token punctuation"},">")]),s(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token comment"},"<!-- SKU弹窗组件 -->"),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("vk-data-goods-sku-popup")]),s(`
    `),n("span",{class:"token attr-name"},"v-model"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("isShowSku"),n("span",{class:"token punctuation"},'"')]),s(`
    `),n("span",{class:"token attr-name"},":localdata"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("localdata"),n("span",{class:"token punctuation"},'"')]),s(`
    `),n("span",{class:"token attr-name"},":mode"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("mode"),n("span",{class:"token punctuation"},'"')]),s(`
    `),n("span",{class:"token attr-name"},"add-cart-background-color"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("#FFA868"),n("span",{class:"token punctuation"},'"')]),s(`
    `),n("span",{class:"token attr-name"},"buy-now-background-color"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("#27BA9B"),n("span",{class:"token punctuation"},'"')]),s(`
  `),n("span",{class:"token punctuation"},"/>")]),s(`

  `),n("span",{class:"token comment"},"<!-- 显示两个按钮 -->"),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("view")]),s(),n("span",{class:"token attr-name"},"@tap"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("openSkuPopup(SkuMode.Both)"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("item arrow"),n("span",{class:"token punctuation"},'"')]),s(`
    `),n("span",{class:"token punctuation"},">")]),s("请选择商品规格"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("view")]),s(`
  `),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token comment"},"<!-- 显示一个按钮 -->"),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("view")]),s(),n("span",{class:"token attr-name"},"@tap"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("openSkuPopup(SkuMode.Cart)"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("addcart"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(" 加入购物车 "),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("view")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("view")]),s(),n("span",{class:"token attr-name"},"@tap"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("openSkuPopup(SkuMode.Buy)"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("payment"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(" 立即购买 "),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("view")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),j=e('<h3 id="渲染被选中的值" tabindex="-1"><a class="header-anchor" href="#渲染被选中的值" aria-hidden="true">#</a> 渲染被选中的值</h3><ol><li><p>通过 <code>ref</code> 获取组件实例。</p></li><li><p>通过 <code>computed</code> 计算出<strong>被选中的值</strong>，渲染到界面中。</p></li></ol>',2),E=n("div",{class:"language-vue line-numbers-mode","data-ext":"vue"},[n("pre",{vue:"",class:"language-vue"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("script")]),s(),n("span",{class:"token attr-name"},"setup"),s(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[s(`
`),n("span",{class:"token comment"},"// SKU组件实例"),s(`
`),n("span",{class:"token keyword"},"const"),s(" skuPopupRef "),n("span",{class:"token operator"},"="),s(" ref"),n("span",{class:"token operator"},"<"),s("SkuPopupInstance"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token comment"},"// 计算被选中的值"),s(`
`),n("span",{class:"token keyword"},"const"),s(" selectArrText "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"computed"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"return"),s(" skuPopupRef"),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token operator"},"?."),s("selectArr"),n("span",{class:"token operator"},"?."),n("span",{class:"token function"},"join"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"' '"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"trim"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token string"},"'请选择商品规格'"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("script")]),n("span",{class:"token punctuation"},">")]),s(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token comment"},"<!-- SKU弹窗组件 -->"),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("vk-data-goods-sku-popup")]),s(`
    `),n("span",{class:"token attr-name"},"v-model"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("isShowSku"),n("span",{class:"token punctuation"},'"')]),s(`
    `),n("span",{class:"token attr-name"},":localdata"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("localdata"),n("span",{class:"token punctuation"},'"')]),s(`
    `),n("span",{class:"token attr-name"},":mode"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("mode"),n("span",{class:"token punctuation"},'"')]),s(`
    `),n("span",{class:"token attr-name"},"add-cart-background-color"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("#FFA868"),n("span",{class:"token punctuation"},'"')]),s(`
    `),n("span",{class:"token attr-name"},"buy-now-background-color"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("#27BA9B"),n("span",{class:"token punctuation"},'"')]),s(`
    `),n("span",{class:"token attr-name"},"ref"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("skuPopupRef"),n("span",{class:"token punctuation"},'"')]),s(`
    `),n("span",{class:"token attr-name"},":actived-style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s(`{
      color: '#27BA9B',
      borderColor: '#27BA9B',
      backgroundColor: '#E9F8F5',
    }`),n("span",{class:"token punctuation"},'"')]),s(`
  `),n("span",{class:"token punctuation"},"/>")]),s(`
  `),n("span",{class:"token comment"},"<!-- 操作面板 -->"),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("view")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("action"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("view")]),s(),n("span",{class:"token attr-name"},"@tap"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("openSkuPopup(SkuMode.Both)"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("item arrow"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("text")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("label"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s("选择"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("text")]),n("span",{class:"token punctuation"},">")]),s(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("text")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("text ellipsis"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(" {{ selectArrText }} "),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("text")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("view")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("view")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),L=n("p",null,[s("至此，已经完成 "),n("code",null,"SKU"),s(" 组件的交互，接下来进入到购物车模块，并实现加入购物车功能。")],-1);function M(F,G){const a=l("ExternalLinkIcon");return p(),c("div",null,[r,n("p",null,[s("学会使用"),n("a",u,[s("插件市场"),t(a)]),s("，下载并使用 "),k,s(" 组件，实现"),d,s("规格展示和交互。")]),m,v,b,n("p",null,[g,s(" 常见于电商领域，对于前端工程师而言，更多关注 "),n("a",h,[s("SKU 算法"),t(a)]),s(" 和 "),y,s("。")]),_,n("p",null,[n("a",S,[s("uni-app 插件市场"),t(a)]),s("，是 uni-app 官方插件生态集中地。")]),x,f,w,n("p",null,[s("经过综合评估，我们选择该"),n("a",K,[s("SKU 插件"),t(a)]),s("，请下载插件到本地。")]),U,P,q,n("p",null,[s("尽管该插件未采用 TS 开发，但作者提供了详细的"),n("a",B,[s("插件文档"),t(a)]),s("，我们可以依据文档为插件添加 TS 类型声明文件，从而提高项目数据校验的安全性。")]),C,N,I,A,T,j,E,L])}const z=o(i,[["render",M],["__file","09. SKU模块.html.vue"]]);export{z as default};
